!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}({0:function(e,t,n){n("WfG0"),e.exports=n("zcrr")},WfG0:function(e,t,n){"use strict";n.r(t);var i=biigle.$require("core.mixins.loader"),s=biigle.$require("labelTrees.components.labelTypeahead"),o=biigle.$require("messages").handleErrorResponse,a={mixins:[i],components:{typeahead:s},data:{volumeId:null,useExistingAnnotations:!1,skipNoveltyDetection:!1,showAdvanced:!1,shouldFetchLabels:!1,labels:[],selectedLabels:[],submitted:!1},computed:{canSkipNoveltyDetection:function(){return this.useExistingAnnotations&&this.hasLabels},hasLabels:function(){return this.labels.length>0},hasSelectedLabels:function(){return this.selectedLabels.length>0},showRestrictLabelsInput:function(){return this.showAdvanced&&this.useExistingAnnotations&&this.hasLabels},hasNoExistingAnnotations:function(){return this.useExistingAnnotations&&!this.hasLabels&&!this.loading}},methods:{toggle:function(){this.showAdvanced=!this.showAdvanced},setLabels:function(e){this.labels=e.body},handleSelectedLabel:function(e){-1===this.selectedLabels.indexOf(e)&&this.selectedLabels.push(e)},handleUnselectLabel:function(e){var t=this.selectedLabels.indexOf(e);t>=0&&this.selectedLabels.splice(t,1)},submit:function(){this.submitted=!0}},watch:{useExistingAnnotations:function(e){e&&(this.shouldFetchLabels=!0)},shouldFetchLabels:function(e){e&&(this.startLoading(),this.$http.get("api/v1/volumes{/id}/annotation-labels",{params:{id:this.volumeId}}).then(this.setLabels,o).finally(this.finishLoading))}},created:function(){this.volumeId=biigle.$require("maia.volumeId"),this.useExistingAnnotations=biigle.$require("maia.useExistingAnnotations"),this.skipNoveltyDetection=biigle.$require("maia.skipNoveltyDetection"),this.useExistingAnnotations&&(this.shouldFetchLabels=!0)}};biigle.$mount("maia-job-form",a)},zcrr:function(e,t){}});